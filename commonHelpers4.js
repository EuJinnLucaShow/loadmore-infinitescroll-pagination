import{l as C,A as P}from"./assets/lightbox-d0b00aba.js";/* empty css                     */import{i as _}from"./assets/vendor-a94593f8.js";const $=document.getElementById("search-button"),f=document.querySelector(".gallery"),y=document.getElementById("search-bar"),g=document.getElementById("pagination-container"),u=document.getElementById("pagination-numbers"),p=document.getElementById("prev-button"),m=document.getElementById("next-button");let c=0,l=!0,s=1,h="";const d=new P;$.addEventListener("click",function(e){e.preventDefault(),b(),l=!0});y.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),b()),l=!0});p.addEventListener("click",()=>o(s-1));m.addEventListener("click",()=>o(s+1));async function b(){const e=y.value.trim();if(d.query=e,e===""){r("warning","Please, fill the main field"),g.classList.add("is-hidden");return}if(e===h){r("warning","Please, modify or enter a new search field.");return}f.innerHTML="",d.resetPage(),h=e,c=0,await v(1)}async function v(e){try{d.getPage(e);const t=await d.fetchGallery(),{hits:a,totalHits:n}=t;if(!a.length){r("error","Sorry, no images matching your search query. Please try again."),g.classList.add("is-hidden");return}l&&c<n&&(r("success",`Hooray! We found ${n} images !!!`),l=!1,S({hits:a,totalHits:n})),f.innerHTML="",I(a),c+=a.length,c>=n&&r("info","You've reached the end of search results.")}catch(t){console.error("Error fetching gallery:",t),r("error","An error occurred while fetching the gallery.")}}function I(e){const t=e.map(({webformatURL:a,largeImageURL:n,tags:i,likes:L,views:w,comments:k,downloads:B})=>`
      <div class="photo-card">
        <a href="${n}">
          <img class="photo-img" src="${a}" alt="${i}" loading="lazy" />
        </a>
        <div class="info">
          <p class="info-item"><b>Likes</b><span class="info__span">${L}</span></p>
          <p class="info-item"><b>Views</b><span class="info__span">${w}</span></p>
          <p class="info-item"><b>Comments</b><span class="info__span">${k}</span></p>
          <p class="info-item"><b>Downloads</b><span class="info__span">${B}</span></p>
        </div>
      </div>`).join("");f.insertAdjacentHTML("beforeend",t),C.refresh()}function r(e,t){_[e]({title:e.charAt(0).toUpperCase()+e.slice(1),message:t,position:"topRight",color:e==="success"?"green":e==="warning"?"yellow":e==="error"?"red":"blue",timeout:2e3,closeOnEscape:!0,closeOnClick:!0})}function S({hits:e,totalHits:t}){const a=Math.ceil(t/e.length);u.innerHTML="";for(let n=1;n<=a;n++){const i=document.createElement("button");i.className="pagination-number",i.textContent=n,u.appendChild(i),g.classList.remove("is-hidden"),i.addEventListener("click",()=>{o(n)})}E()}function o(e){s=e,v(s),E()}function E(){p.disabled=s===1,m.disabled=s===u.children.length}p.addEventListener("click",()=>{o(s-1)});m.addEventListener("click",()=>{o(s+1)});
//# sourceMappingURL=commonHelpers4.js.map
