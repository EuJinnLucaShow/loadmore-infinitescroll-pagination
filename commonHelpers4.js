import{A as B}from"./assets/api-78656448.js";/* empty css                     */import{i as C}from"./assets/vendor-a94593f8.js";const P=document.getElementById("search-button"),m=document.querySelector(".gallery"),u=document.querySelector("#search-bar"),d=document.getElementById("pagination-numbers"),f=document.getElementById("prev-button"),g=document.getElementById("next-button");let c=0,p=!0,r=1;const l=new B;P.addEventListener("click",h);u.addEventListener("keydown",_);f.addEventListener("click",()=>i(r-1));g.addEventListener("click",()=>i(r+1));async function h(){const e=u.value.trim();if(b(),l.query=e,l.resetPage(),e===""){o("warning","Please, fill the main field");return}u.value="",c=0,await y(1)}async function y(e){try{l.getPage(e);const t=await l.fetchGallery(),{hits:a,totalHits:n}=t;if(!a.length){o("error","Sorry, no images matching your search query. Please try again.");return}p&&c<n&&(o("success",`Hooray! We found ${n} images !!!`),p=!1,$({hits:a,totalHits:n})),b(),S(a),c+=a.length,c>=n&&o("info","You've reached the end of search results.")}catch(t){console.error("Error fetching gallery:",t),o("error","An error occurred while fetching the gallery.")}}function S(e){const t=e.map(({webformatURL:a,largeImageURL:n,tags:s,likes:E,views:w,comments:k,downloads:L})=>`
      <div class="photo-card">
        <a href="${n}">
          <img class="photo-img" src="${a}" alt="${s}" loading="lazy" />
        </a>
        <div class="info">
          <p class="info-item"><b>Likes</b><span class="info__span">${E}</span></p>
          <p class="info-item"><b>Views</b><span class="info__span">${w}</span></p>
          <p class="info-item"><b>Comments</b><span class="info__span">${k}</span></p>
          <p class="info-item"><b>Downloads</b><span class="info__span">${L}</span></p>
        </div>
      </div>`).join("");m.insertAdjacentHTML("beforeend",t)}function b(){m.innerHTML=""}function o(e,t){C[e]({title:e.charAt(0).toUpperCase()+e.slice(1),message:t,position:"topRight",color:e==="success"?"green":e==="warning"?"yellow":e==="error"?"red":"blue",timeout:2e3,closeOnEscape:!0,closeOnClick:!0})}function _(e){e.key==="Enter"&&(e.preventDefault(),h()),p=!0}function $({hits:e,totalHits:t}){const a=Math.ceil(t/e.length);d.innerHTML="";for(let n=1;n<=a;n++){const s=document.createElement("button");s.className="pagination-number",s.textContent=n,d.appendChild(s),s.addEventListener("click",()=>{i(n)})}v()}function i(e){r=e,y(r),v()}function v(){f.disabled=r===1,g.disabled=r===d.children.length}f.addEventListener("click",()=>{i(r-1)});g.addEventListener("click",()=>{i(r+1)});
//# sourceMappingURL=commonHelpers4.js.map
